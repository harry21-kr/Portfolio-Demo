## Socket.io 사용 사례

### ZapankiSwap에서 사용된 Socket.io의 사용 사례를 간소화하여 정리하였습니다.

### socket.ts

소켓 연결의 시작은 웹페이지의 마운트 시점이며, 이벤트 구독은 소켓 연결이 성립된 후에 실행됩니다.
또한 useRef를 사용해 socket의 인스턴스를 관리하고, RTK와 함께 사용해 소켓 연결을 통해 받아온 데이터를 전역 변수에 저장합니다.

### addBetHistory와 setCachedLiveBet의 차이

addBetHistory는 다른 유저가 플레이한 게임 내역을 즉시 모든 게임 내역에 추가합니다.

setCachedLiveBet은 내가 플레이한 게임 내역을 저장한 후, 게임의 애니메이션이 종료되면 모든 게임 내역에 추가합니다.

웹게임 특성상 게임을 실행하면 애니메이션이 실행되고, 게임의 결과는 애니메이션이 종료된 후 표시되어야하므로 다른 유저가 플레이한 게임 내역과는 다르게 저장할 필요성이 존재하여 이와 같이 개발하였습니다.
